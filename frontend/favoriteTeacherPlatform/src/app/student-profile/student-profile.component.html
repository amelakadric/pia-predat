<app-student-navbar></app-student-navbar>
<div class="d-flex justify-content-center">
  <div class="col col-sm-5" *ngIf="!updateOpen">
    <div class="mb-3 text-center">
      <div>
        <img src="{{ user.profilePicture }}" alt="" width="120px" />
      </div>
      <h2>Student</h2>
      <ul class="list-group">
        <li class="list-group-item">
          Firstname
          <h4>{{ user.firstname }}</h4>
        </li>

        <li class="list-group-item">
          Lastname
          <h4>{{ user.lastname }}</h4>
        </li>

        <li class="list-group-item">
          Email
          <h4>{{ user.email }}</h4>
        </li>

        <li class="list-group-item">
          Username
          <h4>{{ user.username }}</h4>
        </li>

        <li class="list-group-item">
          Gender
          <h4>{{ user.gender }}</h4>
        </li>

        <li class="list-group-item">
          Phone number
          <h4>{{ user.phoneNumber }}</h4>
        </li>

        <li class="list-group-item">
          Address
          <h4>{{ user.address }}</h4>
        </li>

        <li class="list-group-item">
          School type
          <h4>
            {{
              user.schoolType == "highschool"
                ? "High shool"
                : "Elementary school"
            }}
          </h4>
        </li>

        <li class="list-group-item">
          Grade
          <h4>{{ user.year }}</h4>
        </li>
      </ul>
    </div>
    <button class="btn btn-primary" (click)="openUpdate()">
      Update profile
    </button>
  </div>
</div>

<div class="d-flex justify-content-center">
  <div class="container col-sm-4" *ngIf="updateOpen">
    <div class="m-5 text-center">
      <h2>Update Profile</h2>
      <div class="mb-3">
        <label for="newFirstname" class="form-label">Firstname</label>
        <input
          type="text"
          class="form-control"
          name="newFirstname"
          id="newFirstname"
          [(ngModel)]="newUser.firstname"
        />
      </div>
      <div class="mb-3">
        <label for="newLastname" class="form-label">Lastname</label>
        <input
          type="text"
          class="form-control"
          name="newLastname"
          id="newLastname"
          [(ngModel)]="newUser.lastname"
        />
      </div>
      <div class="mb-3">
        <label for="newEmail" class="form-label">Email</label>
        <input
          type="text"
          class="form-control"
          name="newEmail"
          id="newEmail"
          [(ngModel)]="newUser.email"
        />
      </div>

      <div class="mb-3">
        <label for="newUsername" class="form-label">Username</label>
        <input
          type="text"
          class="form-control"
          name="newUsername"
          id="newUsername"
          [(ngModel)]="newUser.username"
        />
      </div>

      <div class="mb-3">
        <label for="newgender" class="form-label">Gender</label>
        <select
          class="form-select"
          name="newgender"
          id="newgender"
          [(ngModel)]="newUser.gender"
        >
          <option value="male">male</option>
          <option value="female">female</option>
        </select>
      </div>

      <div class="mb-3">
        <label for="newphoneNumber" class="form-label">Phone number</label>
        <input
          type="text"
          class="form-control"
          name="newphoneNumber"
          id="newphoneNumber"
          [(ngModel)]="newUser.phoneNumber"
        />
      </div>

      <div class="mb-3">
        <label for="newAdress" class="form-label">Address</label>
        <input
          type="text"
          class="form-control"
          name="newAdress"
          id="newAdress"
          [(ngModel)]="newUser.address"
        />
      </div>
      <div class="mb-3">
        <label for="profilePicture" class="form-label">Profile picture</label>
        <input
          type="file"
          class="form-control"
          id="profilePicture"
          (change)="handleFileInput($event)"
        />
      </div>
      <div class="ml-5 mt-5">
        <div class="ml-5 mt-5">
          <div class="mb-3">
            <div>{{ newUser.schoolType }}</div>
            <div>Grade</div>
            <input class="form-control" type="text" value="{{ gradeOuput }}" />
            <button class="btn btn-outline-secondary" (click)="increment()">
              Increment
            </button>
          </div>

          <button class="btn btn-primary" (click)="updateStudent()">
            Update Student
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
